<div class="wrapper">
  
  <% if flash[:notice] %>
    <p><%= flash[:notice] %></p>
  <% end %>

  <div class="title">
    <h2>予定一覧</h2>
    <p><%= link_to "新規追加", new_post_path %></p>
  </div>

  <div class="content">
    
    <table>  
      <thead>
        <tr>
          <th>ID</th>
          <th>タイトル</th>
          <th>開始日</th>
          <th>終了日</th>
          <th>終日</th>
          <th>更新日時</th>
        </tr>
      </thead>

      <tbody>
        <% @posts.each do |post| %>
          <tr>
            <td><%= post.id %></td>
            <td><%= post.title %></td>
            <td><%= post.start_date.strftime("%Y/%m/%d") %></td>
            <td><%= post.end_date.strftime("%Y/%m/%d") %></td>
            <td>
              <% if post.all_day %>
                <%= "⚪︎" %>
              <% end %>
            </td>
            <td><%= post.updated_at.strftime("%Y/%m/%d %H:%M") %></td>
            <td><%= link_to "詳細", post %></td>
            <td><%= link_to "編集", [:edit, post] %></td>
            <td><%= link_to "削除", post, method: :delete, data: {confirm: "「#{post.title}」を削除してよろしいですか？\nこの操作は取り消せません。"} %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

  </div>


  <div class="footer">
    <p><%= "予定合計 #{@posts.count}件" %></p>
    <p><%= "本日の日付 #{Date.today.strftime("%Y/%m/%d")}" %></P>
  </div>

</div>